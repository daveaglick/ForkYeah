@using(Bs.Div().AddCss("table", "full-height").Begin())
{
    using (Bs.Div().AddCss("table-row").Begin())
    {
        using (Bs.Div().AddCss("table-cell").Begin())
        {
            using (Bs.Div().AddCss("content-header").Begin())
            {
                @Bs.Heading2("Add a Project")
            }
        }
    }
    using (Bs.Div().AddCss("table-row", "full-height").Begin())
    {
        using (Bs.Div().AddCss("table-cell", "full-height").Begin())
        {
            using (Bs.Div().AddCss("relative-wrapper").Begin())
            {
                using (Bs.Div().AddCss("scroll-wrapper").Begin())
                {                    
                    using(Bs.Div().AddCss("padded-top").Begin())
                    {
                        using (Bs.Form().SetId("add-form").AddCss("bottom-margin").SetInline().Begin())
                        {
                            <text>
                                @Bs.Input(MVC.Default.AddParams.owner).SetPlaceholder("owner") / @Bs.Input(MVC.Default.AddParams.name).SetPlaceholder("name") @Bs.Submit("Add")
                            </text>
                        }
                        @Bs.Alert(AlertState.Danger).SetId("add-form-error").SetVisibility(Visibility.Hidden)
                        @Bs.Alert(AlertState.Success, "Thank you for your submission! It should appear in the list right away.").SetId("add-form-success").SetVisibility(Visibility.Hidden)

                        <hr />
                        @Bs.Paragraph("Here's how we help maintain the quality of projects listed on the site while focusing on those that haven't gotten the attention they deserve:")
                        @Bs.Paragraph(Bs.Span().AddCss("octicon", "octicon-star") + " Projects must have less than 100 GitHub stars when added.")
                        @Bs.Paragraph(Bs.Icon(Icon.Calendar) + " Projects must have at least 3 months commit history.")
                        @Bs.Paragraph(Bs.Span().AddCss("octicon", "octicon-history") + " Projects must have at least 20 commits.")
                        @Bs.Paragraph(Bs.Span().AddCss("octicon", "octicon-book") + " Projects must have a readme file.")
                        @Bs.Paragraph(Bs.Icon(Icon.Time) + " Listings are actively ranked for 48 hours.")
                        @Bs.Paragraph(Bs.Icon(Icon.TriangleTop) + " Rankings are based on increase in GitHub stars.")
                    }
                }
            }
        }
    }
}

<script>
    $(document).ready(function () {
        $("#add-form").submit(function () {
            $.post("@(Url.Action(MVC.Default.Add()))", $(this).serialize(), function (result) {
                if (result !== "") {
                    // Error
                    $("#add-form-error").text(result);
                    $("#add-form-error").removeClass("@(Css.Hidden)")
                } else {
                    // Success
                    $("#add-form").addClass("@(Css.Hidden)")
                    $("#add-form-error").addClass("@(Css.Hidden)")
                    $("#add-form-success").removeClass("@(Css.Hidden)")

                    var listAction = "@(Url.Action(MVC.Default.List()))";
                    $("#list").load(listAction); // Reload the list
                }
            });
            return false;
        });
    });
</script>