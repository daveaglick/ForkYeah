<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <title>Fork Yeah!</title>
    <meta name="description" content="Find undiscovered open source projects." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <link href="@Links.Content.bootstrap.bootstrap_less" rel="stylesheet">
    <link href="@Links.Content.bootstrap.theme_less" rel="stylesheet" />
    <link href="@Links.Content.octicons.octicons_css" rel="stylesheet">
    <link href="@Links.Content.master_less" rel="stylesheet">

    <script src="@Links.Scripts.jquery_2_1_3_min_js"></script>
    <script src="@Links.Scripts.bootstrap_min_js"></script>
    <script src="@Links.Scripts.jquery_nicescroll_min_js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
        <script>
            WebFont.load({
                google: {
                    families: ['Montserrat:400,700:latin']
                }
            });
        </script>
</head>
<body>
    @using (var navbar = Bs.Navbar("FORK YEAH!").SetInverse().SetFluid().SetPosition(NavbarPosition.FixedTop).Begin())
    {
        using (navbar.NavbarNav().SetRight().Begin())
        {
            @navbar.NavbarButton("Add").SetIcon(Icon.PlusSign).SetState(ButtonState.Success).AddCss("add-button")
        }
    }

    @using (Bs.Div().AddCss("table", "full-height").Begin())
    {
        using(Bs.Div().AddCss("table-row", "full-height").Begin())
        {
            // Introduction
            using (Bs.Div().AddCss("table-cell", "full-height").SetId("intro").SetVisibility(Visibility.HiddenMd | Visibility.HiddenSm | Visibility.HiddenXs).Begin())
            {
                using(Bs.Div().AddCss("relative-wrapper").Begin())
                {
                    using(Bs.Div().AddCss("scroll-wrapper").Begin())
                    {                    
                        @Bs.Heading2("Find awesome undiscovered open source projects").AddCss("bottom-margin")
    
                        @Bs.Button("Add a Project").SetIcon(Icon.PlusSign).SetState(ButtonState.Success).AddCss("add-button", "bottom-margin")
    
                        using (@Bs.Div().AddCss("bottom-margin").Begin())
                        {
                            @Bs.Paragraph("Filter by language:")
                            using(Bs.Heading4().Begin())
                            {
                                @Bs.Badge("C#") @Bs.Badge("Java") @Bs.Badge("JavaScript") @Bs.Badge("Ruby")
                            }
                        }
                    }
                }
            }
            
            // Repositories
            using (Bs.Div().AddCss("table-cell", "full-height").SetId("list").Begin())
            {
                Html.RenderAction(MVC.Default.List());
            }
            
            // Content
            using (Bs.Div().AddCss("table-cell", "full-height").SetId("content").SetVisibility(Visibility.HiddenMd | Visibility.HiddenSm | Visibility.HiddenXs).Begin())
            {
                Html.RenderAction(MVC.Default.Add());
            }
        }
    }

    <script>
        $(document).ready(function () {
            afterLoad();
        });

        $(document).ajaxSuccess(function () {
            afterLoad();
        });

        // Common behavior for document ready and after Ajax calls
        function afterLoad() {
            $(".scroll-wrapper").niceScroll();
        }

        $(".add-button").click(function () {
            var addAction = "@(Url.Action(MVC.Default.Add()))";
            $("#content").load(addAction);
        });
    </script>
 </body>
</html>